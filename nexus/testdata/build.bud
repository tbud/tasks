import _ "github.com/tbud/tasks/nexus"

Task("default", func() error {
	err := RunTask("nexus.test", Config{
		"repositoryDir": "/data/sonatype-work/nexus/storage/releases",
		"jarKeepNum": 20,
		"warKeepNum": 20,
	})

	if err != nil {
		return err
	}

	return RunTask("nexus.test", Config{
		"repositoryDir": "/data/sonatype-work/nexus/storage/snapshots",
		"jarKeepNum": 2,
		"warKeepNum": 2,
	})
})

Task("clean", func() error {
	err := RunTask("nexus.clean", Config{
		"repositoryDir": "/data/sonatype-work/nexus/storage/releases",
		"jarKeepNum": 20,
		"warKeepNum": 20,
	})

	if err != nil {
		return err
	}

	return RunTask("nexus.clean", Config{
		"repositoryDir": "/data/sonatype-work/nexus/storage/snapshots",
		"jarKeepNum": 2,
		"warKeepNum": 2,
	})
})